<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
        crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.3.1.js" integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
        crossorigin="anonymous"></script>
    <title>API data</title>
    <script type="text/javascript" src="zomandnpsmoreapi.js"></script>

</head>

<body>

    <section class="container">
        <h1> Getting Shit Done </h1>
        <h3>making sure everything is connected</h3>
    </section>

    <div class="container">
        <div class="row">
            <div class="col-sm-6">
                <ul id="on-screen"></ul>
            </div>
            <div class="col-sm-6">
                <div id="restaurant"> </div>
            </div>
        </div>
        <br>
    </div>


    <style>
        h3 {
            color: rgb(32, 151, 32);
        }
    </style>




    <!-- 
        // // NPS query scripts and API key
        // var npsBaseUrl = "https://api.nps.gov/api/v1";
        // var npsCallState = "/parks&stateCode=CA&key=";
        // var npsCallVC = "/visitorcenters&stateCode=CA&key=";
        // var npsKey = "qpWelJUKpo0rWmkucsjPsEXnvkdRfGwQvja86FWo";

        // // Call the NPS API
        // $.ajax({
        //     url: npsBaseUrl + npsCallState + npsKey,
        //     method: "GET",
        // }).then(function (response) {
        //     console.log(response);
        // });

        // $.ajax({
        //     url: npsBaseUrl + npsCallVC + npsKey,
        //     method: "GET",
        // }).then(function (response2) {
        //     console.log(response2);
        // });

        // // Zomato query scripts and API key
        // var zomBaseUrl = "https://developers.zomato.com/api/v2.1";
        // var zomCallCity = "/cities&key=";
        // var zomKey = "04dffe13574d2caddf0a86ffa64f32a0";

        // var corsAnywhere = "https://cors-anywhere.herokuapp.com/";

        // $.ajax({
        //     url:  "https://developers.zomato.com/api/v2.1/geocode?lat=" + lat + "&lon=" + long + "&user-key=" + zomKey,
        //     method: "GET",
        //     beforeSend: function(xhr){xhr.setRequestHeader('user-key', '04dffe13574d2caddf0a86ffa64f32a0');},
        // }).then(function (response3) {
        //     console.log(response3);
        // });
  -->



</body>

</html>









<!-- Solved by Helder ... no more need for this mess ... but cool what Travis did using Herokuapp to route our code thorugh a proxy server
var corsAnywhere = "https://cors-anywhere.herokuapp.com/";

var queryMapsUrl = "https://maps.googleapis.com/maps/api/geocode/json?key=AIzaSyBK9jkFfnWFcee-sTKz_Y14T4RMu_SBbuo&address=san%20diego&sensor=false";

var queryPlaceDetailsUrl =  "https://maps.googleapis.com/maps/api/place/details/json?fields=address_component,adr_address,alt_id,formatted_address,geometry,icon,id,name,permanently_closed,photo,place_id,plus_code,scope,type,url,utc_offset,vicinity&key=AIzaSyBK9jkFfnWFcee-sTKz_Y14T4RMu_SBbuo"

var queryPhotoUrl = "https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&key=AIzaSyBK9jkFfnWFcee-sTKz_Y14T4RMu_SBbuo"

// Details example   "https://maps.googleapis.com/maps/api/place/details/json?placeid=ChIJN1t_tDeuEmsRUsoyG83frY4&fields=name,rating,formatted_phone_number&key=YOUR_API_KEY"

// Photos example    "https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference=CnRtAAAATLZNl354RwP_9UKbQ_5Psy40texXePv4oAlgP4qNEkdIrkyse7rPXYGd9D_Uj1rVsQdWT4oRz4QrYAJNpFX7rzqqMlZw2h2E2y5IKMUZ7ouD_SlcHxYq1yL4KbKUv3qtWgTK0A6QbGh87GB3sscrHRIQiG2RrmU_jF4tENr9wGS_YxoUSSDrYjWmrNfeEHSGSc3FyhNLlBU&key=YOUR_API_KEY"


var corsAnywherePlaceDetailsUrl = corsAnywhere + queryPlaceDetailsUrl;
var corsAnywherePhotoUrl = corsAnywhere + queryPhotoUrl;


$.ajax({
    url: queryMapsUrl,
    method: "GET",
}).then(function (response) {
    console.log(response);
    var placeId = (response.results[0].place_id);
    console.log("Place id = " + placeId);
    $.ajax({
        url: corsAnywherePlaceDetailsUrl + "&placeid=" + placeId,
        method: "GET",
    }).then(function (response2) {
        console.log(response2);
        var photoRef = (response2.result.photos[0].photo_reference);
        console.log("This is photoRef: " + photoRef);
        $.ajax({
            url: corsAnywherePhotoUrl + "&sensor=false&photoreference=" + photoRef,
            method: "GET",
        }).then(function (response3) {
            // $("#photohere").html("<img src=" + response3 + ">");
            var url = getUrl(response3);
            console.log("getUrl(Response3) = " + url)
        });
    }).catch(function (error) {
        console.error(error);
    });
}); -->